{% extends 'base_wine.html' %}

{% load bootstrap4 %}
{% load static %}

{% block content-header %}
  <h1 class="text-center">와인 검색</h1>
{% endblock content-header %}

{% block content %}
<div class="row">
    {% comment %} <div class="col-sm-3 border">
        <ul>
            <li><a href="{% url 'wine:search:index' %}">와인 검색</a></li>
            <li><a href="{% url 'wiki:index' %}">와인 관련 지식</a></li>
        </ul>
    </div> {% endcomment %}
    <div class="col-md-3">
    <!-- 사이드 바 메뉴-->
        <div class="panel panel-info">
            <div class="panel-heading">
                <h3 class="panel-title">와인 정보</h3>
            </div>
            <ul class="list-group">
                <li class="list-group-item"><a href="{% url 'wine:search:index' %}">와인 검색</a></li>
                <li class="list-group-item"><a href="{% url 'wiki:index' %}">와인 관련 지식</a></li>
            </ul>
        </div>
    </div>

    <div class="col-sm-9 py-5">
        {% comment %} <form action="." method="post" class="input-group rounded"> {% endcomment %}
        <form action="." method="post" class="rounded border p-3">
            {% csrf_token %}
            {% comment %} {% bootstrap_form form %} {% endcomment %}
            {{ form.as_p }}
            {% comment %} <input  type="search" 
                    class="form-control rounded"   
                    placeholder="Search Wine" /> {% endcomment %}
            <button type="submit" class="btn btn-primary btn-sm" >
                <i class="fas fa-search"></i>
            </button>
            <button type="reset" class="btn btn-primary btn-sm" >
                <i class="fas fa-undo-alt"></i>
            </button>
        </form>
        {% if wine_list %}
            <h2 class="mt-4">와인 리스트</h2>
            {% for wine in wine_list %}
                <a href="{% url 'wine:detail' wine.id %}" class="text-dark d-flex py-4 border-bottom">
                    <img src="{% static 'images/'|add:wine.area.area|add:'/'|add:wine.name|add:'.png' %}" style="width:120px; height:220px"/>
                    <div class="d-flex flex-column">
                        <span><h3>{{wine.name}}</h3></span>
                        <ul class="list-group list-group-horizontal mt-5 ml-3">
                            <li class="list-group-item">{{wine.wine_type}}</li>
                            <li class="list-group-item">{{wine.food}}</li>
                            <li class="list-group-item">{{wine.sugar}}</li>
                            <li class="list-group-item">{{wine.sour}}</li>
                            <li class="list-group-item">{{wine.area}}</li>
                        </ul>
                        
                    </div>
                </a>
            {% endfor %}

        {% endif %}
        {% if wine_list.has_previous %}
            <a href="?page={{wine_list.number|add:-1}}&{{wine_query}}">Previous</a>
        {% endif %}
        Page {{wine_list.number}} of {{wine_list.paginator.num_pages}}
        {% if wine_list.has_next %}
            <a href="?page={{wine_list.number|add:+1}}&{{wine_query}}">Next</a>
        {% endif %}


    </div>
</div>
{% endblock content %}

{% comment %} 이렇게 하나씩 구현할 수도 있는듯 (https://docs.djangoproject.com/en/3.2/topics/forms/)
{% for field in form %}
    <div class="fieldWrapper">
        {{ field.errors }}
        {{ field.label_tag }} {{ field }}
        {% if field.help_text %}
        <p class="help">{{ field.help_text|safe }}</p>
        {% endif %}
    </div>
{% endfor %} {% endcomment %}
